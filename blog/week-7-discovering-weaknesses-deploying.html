<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Week 7: Discovering Weaknesses/Deploying</title>
    <link rel="stylesheet" href="../src/css/main.css">
    <script src="../src/js/main.js"></script>
    <script>loadTheme(); relativePath = ".."; addMainListeners();</script>
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" href="../src/css/prism.css" data-noprefix />
    <script src="../src/js/prism.js"></script>
    <head-component></head-component>
</head>
<body>
<header-component></header-component>
<main id="main">
<div id="blog-post" class="blog-post">
<script type="module">import { addBlogHeader } from "../src/js/blog.js"; addBlogHeader(3)</script>

<p>
This week I have been discovering weaknesses about myself. Not the game.
The game is perfect. I am joking.
The game is only as good as its developer, and as seen from the previous post, I am not perfect. <br><br>

Physics was one of my favorite classes in high school, and I would have even majored in physics had I not been so interested in animation.
Therefore, I consider myself to have a good working knowledge of basic physics.
Unfortunately, my confidence and haste made me glance over a variable in a formula that was crucial in predicting the future location of a falling object.
Check out last week's post to see the moving bug caused by the missing variable.
However, I learned that I really need to take my time and read thoroughly and carefully over all the necessary steps.<br><br>

For those curious, the formula to figure out the distance traveled for a falling object is: <br>

<!-- Use https://temml.org/ to convert any math equations to HTML format -->
<math display="block" class="tml-display" style="display:block math;"><mrow><mi>d</mi><mo>=</mo><mi>V</mi><mi>i</mi><mo>∗</mo><mi>t</mi><mo>+</mo><mn>0.5</mn><mo>∗</mo><mi>g</mi><mo>∗</mo><msup><mi>t</mi><mn class="tml-med-pad">2</mn></msup></mrow></math>

<br>Vi = Initial velocity, g = gravity, t = time.<br><br>

So to find the location of where a falling object is going to be after X amount of time, you could use the following function.
</p>

<pre class="language-cpp"><code>
FVector predictLocation(float time)
{
FVector starting_location = static_mesh_component-GetComponentLocation();
FVector velocity = static_mesh_component->GetPhysicsLinearVelocity();

// using formula (delta distance = Vi*t + .5*g*t^2)
return starting_location + (velocity * time) + FVector(0.0f, 0.0f, UPhysicsSettings::Get()->DefaultGravityZ * .5 * (time * time));
}
</code></pre>

<hr>
<p>This week I have also been working on getting the game as an app on my iPhone and BOY! It is not a walk in the park. Mostly because macOS is required in order to build the game, which means I have to dust off my 2012 Macbook and put it through the ringer in building. Here are some of the steps I went through to get the app on my iPhone.</p>
<ol style="padding: 1rem 2rem">
    <li><p>Get the right version of macOS. It might not be the latest! In my case, I was on Mojave, I needed Catalina, and the latest version out was Big Sur.</p>
    </li>
    <li><p>Download Xcode, not just any Xcode, the one that the specific version of the UE4 version you are using was built with, which is usually not the latest, and not the one found in some of the documentation either, like this <a href="https://docs.unrealengine.com/en-US/Platforms/Mobile/iOS/SDKRequirements/index.html">one</a>. Rather, it is found in the release notes of the UE4 version you are using.</p>
    </li>
    <li><p>Buy an Apple Developer membership ($100 a year), just to get some certificate stuff and whatnot's (I need to learn more about this...) I do think there is a way to develop and test your app without it, but I feel like this might be the path of least resistance. When creating the profile, make sure you select iCloud capability.</p>
    </li>
    <li><p>Get Git, and Git LFS if you are using them as source/version control on your macOS, clone your repo onto the macOS, modify the following shell script and run it to generate the Xcode workspace.<br>
        <pre><code class="language-bash">sh &quot;/{PATH_TO_ENGINE}/unrealEngine-4.25.4-release/engine/build/batchfiles/Mac/GenerateProjectFiles.sh&quot; -project=&quot;/{PATH_TO_PROJECT}/{UPROJECT_FILENAME}.uproject&quot; -game</code></pre></p>
    </li>
    <li><p>If trying to do the remote build from Windows onto macOS, good luck. You must download iTunes, and NOT from the Microsoft store, instead it must be through the apple installer. If you have already downloaded it from the Microsoft Store, uninstall it, download the apple one, and modify the registry with the following:</p>
        <p style="word-wrap: break-word"> a. Go to <b>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Apple Inc.\Apple Mobile Device Support\Shared</b></p>
        <p> b. Add a new string value with key &quot;<b>MobileDeviceDLL</b>&quot;</p>
        <p> c. Add the value of <b>C:\Program Files\Common Files\Apple\Mobile Device Support\MobileDevice.dll</b></p>
        <p> d. Thank <a href="https://www.parallelcube.com/2019/09/08/remote-ios-build-on-ue4-part-2/">parallelcube</a> for figuring this part out.</p>
    </li>
    <li><p>After doing a rain dance, importing the certificate and profile into the iOS tab of the project settings in editor, AND setting &quot;Automatic Signup&quot;, with the correct &quot;Team ID&quot; value right below it, packaging the game finally worked.</p>
    </li>
    <li><p>Plug in your device (iPhone, iPad, etc) to the Mac, go to the device in Finder, and drag the .ipa onto the device info in Finder to install the app onto the device, yay!</p>
    </li>
    <li><p>Test the game, does it suck? Is it fun? Does it look cool? Is it pretty? Do I feel amazed while playing it? I actually think the core feature is pretty fun, sooo success! Now to add more features and expand who tests the game .</p>
    </li>
</ol>

<hr>
<p>I made a Trello to keep production organized, check it out <a href="https://trello.com/b/jwVqxomf">here!</a> <a href="https://trello.com/b/jwVqxomf">https://trello.com/b/jwVqxomf</a></p>

<script type="module">import { addBlogFooter } from "../src/js/blog.js"; addBlogFooter()</script>
</div>
</main>
<footer-component></footer-component>
</body>
</html>